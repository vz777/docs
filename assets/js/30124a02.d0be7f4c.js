"use strict";(self.webpackChunkthelia=self.webpackChunkthelia||[]).push([[4152],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var u=a.createContext({}),s=function(e){var t=a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=s(e.components);return a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=s(r),m=n,f=d["".concat(u,".").concat(m)]||d[m]||p[m]||l;return r?a.createElement(f,i(i({ref:t},c),{},{components:r})):a.createElement(f,i({ref:t},c))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,i=new Array(l);i[0]=d;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var s=2;s<l;s++)i[s]=r[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},8290:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=r(7462),n=(r(7294),r(3905));const l={title:"Authentification checker"},i=void 0,o={unversionedId:"loops/Authentification_checker",id:"loops/Authentification_checker",title:"Authentification checker",description:"La boucle Auth effectue des v\xe9rifications d'autorisation par rapport \xe0 l'utilisateur actuel. Cette boucle ne renvoie rien si l'autorisation \xe9choue, ou le contenu de la boucle si elle r\xe9ussit.",source:"@site/docs/loops/Authentification_checker.md",sourceDirName:"loops",slug:"/loops/Authentification_checker",permalink:"/docs/docs/loops/Authentification_checker",draft:!1,editUrl:"https://github.com/vz777/docs/edit/main/docs/loops/Authentification_checker.md",tags:[],version:"current",frontMatter:{title:"Authentification checker"},sidebar:"myAutogeneratedSidebar",previous:{title:"Attribute combination",permalink:"/docs/docs/loops/Attribute_combination"},next:{title:"Brand",permalink:"/docs/docs/loops/Brand"}},u={},s=[{value:"Arguments",id:"auth-arguments",level:2},{value:"Exemples",id:"exemples",level:2},{value:"Access possible values",id:"auth-access-possible-values",level:2}],c={toc:s};function p(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"La boucle Auth effectue des v\xe9rifications d'autorisation par rapport \xe0 l'utilisateur actuel. Cette boucle ne renvoie rien si l'autorisation \xe9choue, ou le contenu de la boucle si elle r\xe9ussit.\nVous pouvez v\xe9rifier dans le front office si un administrateur est connect\xe9 et effectuer des fonctions sp\xe9cifiques dans votre mod\xe8le de front office (comme l'\xe9dition directe, par exemple).\n",(0,n.kt)("inlineCode",{parentName:"p"},'{loop type="auth" name="the-loop-name" [argument="value"], [...]}')),(0,n.kt)("h2",{id:"auth-arguments"},"Arguments"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Argument"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Description"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Defaut"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Exemple"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"access"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Une liste s\xe9par\xe9e par des virgules, si elle est vide ou manquante, l'autorisation est v\xe9rifi\xe9e uniquement concernantg les r\xf4les ",(0,n.kt)("br",null)," ",(0,n.kt)("a",{parentName:"td",href:"#auth-access-possible-values"},"Valeurs attendues")),(0,n.kt)("td",{parentName:"tr",align:"center"}),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"module"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Une liste de modules s\xe9par\xe9e par des virgules"),(0,n.kt)("td",{parentName:"tr",align:"center"}),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"resource"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Une liste de ressource s\xe9par\xe9e par des virgules"),(0,n.kt)("td",{parentName:"tr",align:"center"}),(0,n.kt)("td",{parentName:"tr",align:"left"})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"role *"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Une liste de r\xf4les utilisateurs s\xe9par\xe9e par des virgules"),(0,n.kt)("td",{parentName:"tr",align:"center"}),(0,n.kt)("td",{parentName:"tr",align:"left"},'role="ADMIN" ou sinon role="CUSTOMER"')))),(0,n.kt)("h2",{id:"exemples"},"Exemples"),(0,n.kt)("p",null,"Je veux v\xe9rifier si l'administrateur actuel est autoris\xe9 \xe0 utiliser la fonction de recherche du back-office."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-smarty"},'{loop type="auth" name="can_create" role="ADMIN" resource="admin.administrator" access="CREATE"}\n    <a title="{intl l=\'Create a new administrator\'}" href="#administrator_create_dialog" data-toggle="modal">\n        <span class="glyphicon glyphicon-plus"></span>\n    </a>\n{/loop}\n')),(0,n.kt)("p",null,"Le r\xf4le est ADMIN, ce qui signifie que l'utilisateur actuel doit avoir le r\xf4le \"ADMIN\". L'autorisation est \"admin.administrator\", qui est l'identifiant de l'autorisation d'administrateur. Selon l'attribut d'acc\xe8s, l'utilisateur actuel doit avoir l'autorisation CREATE.\nI want to check if the customer is logged in, or not."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-smarty"},'{loop type="auth" name="customer_info_block" role="CUSTOMER"}\n    <p>Your are logged in. <a href="{viewurl view=\'index\' action=\'logoutCustomer\'}">Logout</a></p>\n{/loop}\n\n{elseloop rel="customer_info_block"}\n    You are not logged in. <a href="{viewurl view=\'login\'}">Login now</a> or <a href="{viewurl view=\'create_account\'}">create your account</a>\n{/elseloop}\n')),(0,n.kt)("h2",{id:"auth-access-possible-values"},"Access possible values"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#auth-arguments"},"Arguments")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"value"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"CREATE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DELETE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"UPDATE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"VIEW")))))}p.isMDXComponent=!0}}]);
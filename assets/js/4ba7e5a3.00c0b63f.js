"use strict";(self.webpackChunkthelia=self.webpackChunkthelia||[]).push([[7427],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,h=d["".concat(o,".").concat(m)]||d[m]||c[m]||l;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5380:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const l={title:"Contribute"},i=void 0,s={unversionedId:"contribute",id:"contribute",title:"Contribute",description:"Comment contribuer ?",source:"@site/docs/contribute.md",sourceDirName:".",slug:"/contribute",permalink:"/docs/docs/contribute",draft:!1,editUrl:"https://github.com/vz777/docs/edit/main/docs/contribute.md",tags:[],version:"current",frontMatter:{title:"Contribute"},sidebar:"myAutogeneratedSidebar",previous:{title:"Update",permalink:"/docs/docs/update"}},o={},u=[{value:"Comment contribuer ?",id:"comment-contribuer-",level:2},{value:"Normes de codage",id:"normes-de-codage",level:2},{value:"Pull Request",id:"pull-request",level:2},{value:"Modification des scripts SQL",id:"modification-des-scripts-sql",level:2},{value:"Modifications dans le mod\xe8le Thelia",id:"modifications-dans-le-mod\xe8le-thelia",level:3},{value:"G\xe9n\xe9rer SQL pour les donn\xe9es par d\xe9faut et mettre \xe0 jour les scripts SQL",id:"g\xe9n\xe9rer-sql-pour-les-donn\xe9es-par-d\xe9faut-et-mettre-\xe0-jour-les-scripts-sql",level:3},{value:"Comment contribuer aux nouvelles traductions ou aux mises \xe0 jour de Thelia",id:"comment-contribuer-aux-nouvelles-traductions-ou-aux-mises-\xe0-jour-de-thelia",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"comment-contribuer-"},"Comment contribuer ?"),(0,r.kt)("p",null,"Thelia est h\xe9berg\xe9 sur ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/thelia/thelia"},"GitHub"),".\nPour contribuer, il vous suffit de forker le projet et de soumettre une ",(0,r.kt)("a",{parentName:"p",href:"https://help.github.com/articles/using-pull-requests"},"Pull Request")," ou ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/thelia/thelia"},"Issues"),"."),(0,r.kt)("h2",{id:"normes-de-codage"},"Normes de codage"),(0,r.kt)("p",null,"Thelia suit les normes ",(0,r.kt)("a",{parentName:"p",href:"http://www.php-fig.org/psr/psr-1/"},"PSR-I")," et ",(0,r.kt)("a",{parentName:"p",href:"http://www.php-fig.org/psr/psr-2/"},"PSR-2"),", vous devez donc suivre ces r\xe8gles. Ne vous inqui\xe9tez pas, vous pouvez utiliser des outils tels que le ",(0,r.kt)("a",{parentName:"p",href:"http://cs.sensiolabs.org/"},"PHP Coding Standards Fixer")," pour cela."),(0,r.kt)("h2",{id:"pull-request"},"Pull Request"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://help.github.com/articles/creating-a-pull-request"},"Cr\xe9er une Pull Request")," est la meilleure fa\xe7on de soumettre un correctif, mais il y a certaines r\xe8gles \xe0 suivre.\nTout d'abord, forkez ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/thelia/thelia"},"Thelia"),", cr\xe9ez une nouvelle branche, ne travaillez jamais sur la branche ",(0,r.kt)("inlineCode",{parentName:"p"},"main"),", utilisez-la uniquement pour synchroniser avec le d\xe9p\xf4t ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/thelia/thelia"},"Thelia"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ git checkout -b new-branch main\n")),(0,r.kt)("p",null,"Apr\xe8s avoir termin\xe9 vos modifications, vous devez rebaser votre branche et la pousser vers votre d\xe9p\xf4t."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ git remote add upstream https://github.com/thelia/thelia.git\n$ git checkout main\n$ git pull --ff-only upstream main\n$ git checkout new-branch\n$ git rebase main\n$ git push origin new-branch\n")),(0,r.kt)("p",null,"Ensuite, la derni\xe8re \xe9tape consiste \xe0 soumettre une Pull Request comme indiqu\xe9 dans la documentation GitHub."),(0,r.kt)("p",null,"Si vous souhaitez en faire plus, lisez cet utile ",(0,r.kt)("a",{parentName:"p",href:"http://williamdurand.fr/2013/11/20/on-creating-pull-requests/"},"article de blog"),"."),(0,r.kt)("h2",{id:"modification-des-scripts-sql"},"Modification des scripts SQL"),(0,r.kt)("p",null,"Si vous soumettez des modifications qui ajoutent de nouvelles donn\xe9es ou modifient la structure de la base de donn\xe9es, veuillez lire la documentation suivante."),(0,r.kt)("h3",{id:"modifications-dans-le-mod\xe8le-thelia"},"Modifications dans le mod\xe8le Thelia"),(0,r.kt)("p",null,".Si vous avez modifi\xe9 le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"schema.xml"),", qui est le sch\xe9ma Propel des mod\xe8les Thelia, vous devez g\xe9n\xe9rer le nouveau fichier thelia.sql et les classes de base de Propel."),(0,r.kt)("p",null,"Vous devez ex\xe9cuter cette commande \xe0 la racine de votre site Thelia :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"# generates classes\nbin/propel build -v --input-dir=local/config/ --output-dir=core/lib/ --enable-identifier-quoting\n# generates thelia.sql\nbin/propel sql:build -v --input-dir=local/config/ --output-dir=setup/\nrm setup/sqldb.map\n")),(0,r.kt)("p",null,"G\xe9n\xe9rer SQL pour les donn\xe9es par d\xe9faut et mettre \xe0 jour les scripts SQL"),(0,r.kt)("h3",{id:"g\xe9n\xe9rer-sql-pour-les-donn\xe9es-par-d\xe9faut-et-mettre-\xe0-jour-les-scripts-sql"},"G\xe9n\xe9rer SQL pour les donn\xe9es par d\xe9faut et mettre \xe0 jour les scripts SQL"),(0,r.kt)("p",null,"Ces fichiers SQL ne doivent pas \xeatre modifi\xe9s directement car ils sont g\xe9n\xe9r\xe9s par une commande Thelia. Au lieu de cela, vous devez modifier les templates Smarty. Le premier fichier est ",(0,r.kt)("inlineCode",{parentName:"p"},"setup/insert.sql.tpl")," qui est utilis\xe9 pour g\xe9n\xe9rer le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"insert.sql"),". Les autres fichiers sont situ\xe9s dans ",(0,r.kt)("inlineCode",{parentName:"p"},"setup/update/tpl")," et sont utilis\xe9s pour g\xe9n\xe9rer tous les fichiers SQL de mise \xe0 jour."),(0,r.kt)("p",null,"Ces templates diff\xe8rent uniquement des SQL pour les tables ",(0,r.kt)("strong",{parentName:"p"},"i18n"),". Mais on pourrait imaginer d'autres utilisations avec Smarty.\nUne application typique :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-smarty"},"...\n\nINSERT INTO  `module_i18n` (`id`, `locale`, `title`, `description`, `chapo`, `postscriptum`) VALUES\n{foreach $locales as $locale}\n  (@max_id+1, '{$locale}', {intl l='Navigation block' locale=$locale}, NULL,  NULL,  NULL),\n  (@max_id+2, '{$locale}', {intl l='Currency block' locale=$locale}, NULL,  NULL,  NULL),\n  ...\n  (@max_id+12, '{$locale}', {intl l='New Products block' locale=$locale}, NULL,  NULL,  NULL),\n  (@max_id+13, '{$locale}', {intl l='Products offer block' locale=$locale}, NULL,  NULL,  NULL){if ! $locale@last},{/if}\n\n{/foreach}\n;\n\n...\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"{foreach $locales as $locale}")," est utilis\xe9 pour it\xe9rer sur la liste des locales : en_US, fr_FR, ..."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"{intl l='Navigation block' locale=$locale}")," est utilis\xe9 pour afficher la traduction correspondant \xe0 l'attribut ",(0,r.kt)("inlineCode",{parentName:"li"},"l"),". Cette fonction intl\ndiff\xe8re de celle utilis\xe9e classiquement dans Thelia. Si la traduction n'existe pas, aucun fallback ne sera utilis\xe9 par d\xe9faut.\nLe texte sera \xe9chapp\xe9 pour SQL et des guillemets seront plac\xe9s autour de la cha\xeene d'entr\xe9e. Si la cha\xeene est vide, elle sera remplac\xe9e par une valeur ",(0,r.kt)("inlineCode",{parentName:"li"},"NULL"),".\nL'attribut ",(0,r.kt)("inlineCode",{parentName:"li"},'in_string="1"')," est utilis\xe9 pour d\xe9sactiver la mise en place de guillemets autour de la cha\xeene. L'attribut ",(0,r.kt)("inlineCode",{parentName:"li"},'use_default="1"')," vous permet d'utiliser l'attribut ",(0,r.kt)("inlineCode",{parentName:"li"},"l")," comme fallback si la traduction n'existe pas."),(0,r.kt)("li",{parentName:"ul"},"n'oubliez pas d'utiliser ",(0,r.kt)("inlineCode",{parentName:"li"},"{if ! $locale@last},{/if}")," avant ",(0,r.kt)("inlineCode",{parentName:"li"},"{/foreach}")," sinon votre SQL ne sera pas valide.")),(0,r.kt)("p",null,"Faites attention aux crochets ",(0,r.kt)("inlineCode",{parentName:"p"},"{")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"}")," qui sont utilis\xe9s par Smarty. Vous pouvez utiliser ",(0,r.kt)("inlineCode",{parentName:"p"},"{ldelim}"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"{rdelim}")," ou ",(0,r.kt)("inlineCode",{parentName:"p"},"{literal}...{/literal}")," pour \xe9chapper le code qui n'est pas Smarty."),(0,r.kt)("p",null,"Pour traduire la nouvelle cha\xeene, vous pouvez utiliser la page de traduction dans le back office."),(0,r.kt)("p",null,"Si vous modifiez des templates, vous devrez r\xe9g\xe9n\xe9rer tous les fichiers SQL. Vous pouvez utiliser cette commande Thelia : ",(0,r.kt)("inlineCode",{parentName:"p"},"php Thelia generate:sql")),(0,r.kt)("p",null,"Vous pouvez \xe9galement limiter \xe0 une liste sp\xe9cifique de locales si vous utilisez le param\xe8tre ",(0,r.kt)("inlineCode",{parentName:"p"},"locales"),"."),(0,r.kt)("p",null,"Actuellement, comme toutes les langues ne sont pas enti\xe8rement traduites, nous utilisons cette ligne de commande pour g\xe9n\xe9rer les fichiers SQL :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"php Thelia generate:sql --locales='de_DE,en_US,es_ES,fr_FR'\n")),(0,r.kt)("p",null,"Comment contribuer aux nouvelles traductions ou aux mises \xe0 jour de Thelia"),(0,r.kt)("p",null,"Les traductions sont contribu\xe9es par des utilisateurs de Thelia du monde entier. Le travail de traduction est coordonn\xe9 sur Crowdin.\nLe projet Thelia est situ\xe9 sur ",(0,r.kt)("a",{parentName:"p",href:"http://translate.thelia.net/"},"http://translate.thelia.net/"),"."),(0,r.kt)("p",null,"Les traductions pour les langues autres que ",(0,r.kt)("strong",{parentName:"p"},"l'anglais")," ne doivent \xeatre effectu\xe9es que sur ",(0,r.kt)("a",{parentName:"p",href:"http://translate.thelia.net/"},"http://translate.thelia.net/"),", et non sur un site de d\xe9veloppement Thelia,"),(0,r.kt)("h2",{id:"comment-contribuer-aux-nouvelles-traductions-ou-aux-mises-\xe0-jour-de-thelia"},"Comment contribuer aux nouvelles traductions ou aux mises \xe0 jour de Thelia"),(0,r.kt)("p",null,"Les traductions sont effectu\xe9es par des utilisateurs de Thelia du monde entier. Le travail de traduction est coordonn\xe9 sur ",(0,r.kt)("a",{parentName:"p",href:"http://crowdin.com"},"Crowdin"),".\nLe projet Thelia est situ\xe9 sur (",(0,r.kt)("a",{parentName:"p",href:"http://translate.thelia.net/"},"http://translate.thelia.net/"),"). "),(0,r.kt)("p",null,"Les traductions pour les langues autres que ",(0,r.kt)("strong",{parentName:"p"},"l'anglais")," ne doivent \xeatre effectu\xe9es que sur ",(0,r.kt)("a",{parentName:"p",href:"http://translate.thelia.net/"},"http://translate.thelia.net/"),", et non sur un site de d\xe9veloppement Thelia, et nous \xeatre envoy\xe9es avec une pull request sur GitHub. Les traductions pour ",(0,r.kt)("strong",{parentName:"p"},"les autres")," languages que l'anglais doivent \xeatre faites sur (",(0,r.kt)("a",{parentName:"p",href:"http://translate.thelia.net/"},"http://translate.thelia.net/"),").\nPendant la phase de d\xe9veloppement, seules les cha\xeenes en anglais doivent \xeatre utilis\xe9es dans Thelia et soumises avec une pull request.\nAvant chaque sortie, les mainteneurs de Thelia feront une annonce et nous aurons quelques semaines de gel des cha\xeenes pour donner aux gens le temps de compl\xe9ter les traductions.\nUne fois les traductions termin\xe9es, les mainteneurs de Thelia int\xe9greront toutes les traductions dans Thelia."),(0,r.kt)("p",null,"Si vous souhaitez contribuer \xe0 la traduction ou discuter de traductions sp\xe9cifiques, rendez-vous sur ",(0,r.kt)("a",{parentName:"p",href:"http://translate.thelia.net/"},"Thelia project page"),"."),(0,r.kt)("p",null,"Si vous souhaitez aider \xe0 traduire ou ajouter une langue qui n'est pas encore traduite, voici ce que vous devez faire :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Visitez ",(0,r.kt)("a",{parentName:"li",href:"http://translate.thelia.net/"},"page Thelia"),"."),(0,r.kt)("li",{parentName:"ul"},"Inscrivez-vous sur ",(0,r.kt)("a",{parentName:"li",href:"http://crowdin.com"},"Crowdin")," ou connectez-vous si vous avez d\xe9j\xe0 un compte."),(0,r.kt)("li",{parentName:"ul"},"Sur la page du projet Thelia, cliquez sur le bouton ",(0,r.kt)("strong",{parentName:"li"},"Rejoindre le projet de traduction."),"."),(0,r.kt)("li",{parentName:"ul"},"Choisissez la langue sur laquelle vous souhaitez travailler ou, si la langue n'existe pas encore, demandez une nouvelle langue en cliquant sur le lien ",(0,r.kt)("strong",{parentName:"li"},"Contact")," de l'un des responsables du projet."),(0,r.kt)("li",{parentName:"ul"},"Ensuite, s\xe9lectionnez un fichier dans la liste et commencez la traduction. Si vous rencontrez des probl\xe8mes, veuillez consulter la ",(0,r.kt)("a",{parentName:"li",href:"https://support.crowdin.com/"},"la Base de connaissances Crowdin")," ou d\xe9marrez ",(0,r.kt)("a",{parentName:"li",href:"http://translate.thelia.net/project/thelia/discussions"},"une nouvelle discussion sur la page du projet Thelia"),".")))}c.isMDXComponent=!0}}]);
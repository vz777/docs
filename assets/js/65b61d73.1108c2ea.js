"use strict";(self.webpackChunkthelia=self.webpackChunkthelia||[]).push([[3101],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,g=m["".concat(l,".").concat(d)]||m[d]||c[d]||i;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},959:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const i={title:"Smarty plugins"},o=void 0,s={unversionedId:"smarty_plugins/index",id:"smarty_plugins/index",title:"Smarty plugins",description:"Pour cr\xe9er un plugin smarty dans Thelia, cr\xe9ez une nouvelle classe qui \xe9tend",source:"@site/docs/smarty_plugins/index.md",sourceDirName:"smarty_plugins",slug:"/smarty_plugins/",permalink:"/docs/docs/smarty_plugins/",draft:!1,editUrl:"https://github.com/vz777/docs/edit/main/docs/smarty_plugins/index.md",tags:[],version:"current",frontMatter:{title:"Smarty plugins"},sidebar:"myAutogeneratedSidebar",previous:{title:"Template",permalink:"/docs/docs/template"},next:{title:"Substitutions",permalink:"/docs/docs/smarty_plugins/substitutions/"}},l={},u=[],p={toc:u};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Pour cr\xe9er un plugin smarty dans Thelia, cr\xe9ez une nouvelle classe qui \xe9tend\n",(0,a.kt)("inlineCode",{parentName:"p"},"TheliaSmarty\\Template\\AbstractSmartyPlugin"),", ensuite, cr\xe9ez une fonction appel\xe9e  ",(0,a.kt)("inlineCode",{parentName:"p"},"getPluginDescriptors"),"\nqui r\xe9pertorie et d\xe9crit tous les plugins que vous souhaitez cr\xe9er (vous pouvez cr\xe9er autant de plugins que vous le souhaitez dans une seule classe). Un plugin Smarty est d\xe9crit comme suit :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"new SmartyPluginDescriptor(\n    'function',\n    'myFunction',\n    $this,\n    'doMyFunction'\n)\n")),(0,a.kt)("p",null,"Le premier param\xe8tre est le type de plugin ; vous pouvez trouver plus d'informations ",(0,a.kt)("a",{parentName:"p",href:"https://smarty-php.github.io/smarty/programmers/plugins.html"},"ici"),".\nLe deuxi\xe8me param\xe8tre est le nom que vous devez utiliser dans vos mod\xe8les pour appeler votre plugin.\nLe troisi\xe8me param\xe8tre est l'emplacement de la classe de votre fonction. En g\xe9n\xe9ral, c'est ",(0,a.kt)("inlineCode",{parentName:"p"},"$this")," car vous \xe9crivez la fonction dans la m\xeame classe que la d\xe9claration.\nLe quatri\xe8me param\xe8tre est le nom de la fonction que vous souhaitez appeler."),(0,a.kt)("p",null,"Voici un exemple de d\xe9claration de vos plugins :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"class MyProjectPlugin extends AbstractSmartyPlugin\n{\n    public function getPluginDescriptors()\n    {\n        return [\n            new SmartyPluginDescriptor(\n                'function',\n                'lower',\n                 $this,\n                'lowerString'\n            ),\n            new SmartyPluginDescriptor(\n                'function',\n                'bestProduct',\n                $this,\n                'getBestProduct'\n            )\n        ];\n    }\n\n    public function lowerString($params)\n    {\n        return strtolower($params['string']);\n    }\n\n    public function getBestProduct($params)\n    {\n        // Do a query to find your best product and return it\n    }\n}\n")),(0,a.kt)("p",null,"Utilisation dans les templates Smarty :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-smarty"},'    {lower string="A String THAT need to be LOWERCASE"} // Some plugins needs params\n\n    {bestProduct} // Other don\'t\n')))}c.isMDXComponent=!0}}]);
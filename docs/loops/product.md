---
title: Product
---

La boucle Product répertorie les produits de votre boutique. Vous aurez certainement besoin d'utiliser la boucle product sale elements loop dans votre product loop.
`{loop type="product" name="the-loop-name" [argument="value"], [...]}`

## Arguments {#product-arguments}

| Argument                   | Description                                                                                                                                                                                                                                                                                                                                                     | Defaut | Exemple                                                                                                                                                                                                                                                             |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| attribute_non_strict_match | <strong>Uniquement disponible si complex='true'</strong> <br/> promo, new, quantity, weight ou price peuvent différer dans les différents éléments de vente de produits en fonction des attributs différents. Ce paramètre permet de fournir une liste d'attributs non stricts. <br/> liste des [Valeurs attendues](#product_attribute_non_strict_match_values) | none   | attribute_non_strict_match="promo,new" : <br/>  la boucle renverra le produit s'il a au moins une déclinaison de produit en promo et au moins un élément de vente de produit comme nouveau ; même si ce ne sont pas les mêmes déclinaison de produits.              |
| brand                      | Un ou plusieurs Ids de marque.                                                                                                                                                                                                                                                                                                                                  |        | page="2"                                                                                                                                                                                                                                                            |
| category                   | Un ou plusieurs Ids de catégories.                                                                                                                                                                                                                                                                                                                              |        | limit="10"                                                                                                                                                                                                                                                          |
| category_default           | Un ou plusieurs IDs de catégorie par défaut permettant de récupérer tous les produits ayant ce paramètre comme catégorie par défaut.                                                                                                                                                                                                                            | 0      | offset="10"                                                                                                                                                                                                                                                         |
| complex                    | Booléen. Si définie sur true, la boucle de produit prendra en compte toutes les déclinaisons (PSE) de produits, sinon, elle ne prendra en compte que la déclinaison par défaut. Certains des arguments/sorties ne seront pas disponibles en fonction de l'argument complex.                                                                                     | false  | complex="true"                                                                                                                                                                                                                                                      |
| content                    | Un ou plusieurs ID de contenu. Lorsque ce paramètre est défini, la boucle renvoie les produits liés aux ID de contenu spécifiés.                                                                                                                                                                                                                                |        | content="3"                                                                                                                                                                                                                                                         |
| currency                   | Un id de devise                                                                                                                                                                                                                                                                                                                                                 |        | currency="1"                                                                                                                                                                                                                                                        |
| current                    | Booléen qui permet soit d'exclure le produit actuel des résultats, soit de correspondre uniquement à ce produit                                                                                                                                                                                                                                                 |        | current="yes"                                                                                                                                                                                                                                                       |
| current_category           | Booléen qui permet soit d'exclure les produits de la catégorie actuelle des résultats, soit de correspondre uniquement aux produits de la catégorie actuelle. Si un produit est dans plusieurs catégories dont l'une est actuelle, il ne sera pas exclu si current_category="false", mais sera inclus si current_category="yes"                                 |        | current_category="yes"                                                                                                                                                                                                                                              |
| depth                      | Entier positif qui précise le nombre de niveaux de sous-catégorie à parcourir. Ne sera pas pris en compte si le paramètre de catégorie n'est pas défini.                                                                                                                                                                                                        | 1      | depth="2"                                                                                                                                                                                                                                                           |
| exclude                    | Un ou plusieurs Ids de produit.                                                                                                                                                                                                                                                                                                                                 |        | exclude="2", exclude="1,4,7"                                                                                                                                                                                                                                        |
| exclude_category           | Un ou plusieurs ids de catégories. Si un produit est dans plusieurs catégories qui ne sont pas toutes exclues, il ne sera pas exclu.                                                                                                                                                                                                                            |        | exclude_category="2", exclude_category="1,4,7"                                                                                                                                                                                                                      |
| exclude_tax_rule_id        | Filtrer les produits qui n'ont pas cet ID de règle de taxes                                                                                                                                                                                                                                                                                                     |        | exclude_tax_rule_id=21                                                                                                                                                                                                                                              |
| feature_availability       | Une liste de features et de features availability obligatoires et la valeur de chaîne attendue pour celles-ci.                                                                                                                                                                                                                                                  |        | feature_availability="1: \(1 \| 2\) , 2:*, 3: 10 \| \(11&12\)" : feature 1 doit avoir feature_availability 1 ou 2 AND feature 2 must be set to any feature_availability ET feature 3 doit avoir feature_availability 10 ou les deux, feature_availability 11 and 12 |
| feature_values             | Une liste de features obligatoires et la valeur de chaîne attendue pour celles-ci.                                                                                                                                                                                                                                                                              |        | feature_values="1: \(foo \| bar\) , 2:*, 3: foobar" : feature 1 doit avoir feature value "foo" ou "bar" ET feature 2 doit être défini sur n'importe quelle feature_availability ET feature 3 doit avoir la feature value   "foobar"                                 |
| id                         | Un ou plusieurs ids de produits                                                                                                                                                                                                                                                                                                                                 |        | id="2" or id="1,4,7"                                                                                                                                                                                                                                                |
| lang                       | Un id de langue                                                                                                                                                                                                                                                                                                                                                 |        | lang="1"                                                                                                                                                                                                                                                            |
| max_price                  | Un float. Correspond à la valeur strictement égal.                                                                                                                                                                                                                                                                                                              |        | max_price="32.1"                                                                                                                                                                                                                                                    |
| max_weight                 | Un float. Correspond à la valeur strictement égal.                                                                                                                                                                                                                                                                                                              |        | max_weight="32.1"                                                                                                                                                                                                                                                   |
| min_price                  | Un float. Correspond à la valeur strictement égal.                                                                                                                                                                                                                                                                                                              |        | min_price="12.3"                                                                                                                                                                                                                                                    |
| min_stock                  | Un entier. Correspond à la valeur strictement égal.                                                                                                                                                                                                                                                                                                             |        | min_stock="3"                                                                                                                                                                                                                                                       |
| min_weight                 | Une valeur décimale. Correspond à la valeur strictement égal.                                                                                                                                                                                                                                                                                                   |        | min_weight="32.1"                                                                                                                                                                                                                                                   |
| new                        | Booléen pour obtenir des produits par leur nouveauté                                                                                                                                                                                                                                                                                                            |        | new="yes"                                                                                                                                                                                                                                                           |
| order                      | L'ordre de tri des produits, voir [sorting possible values](#product-order-possible-values)                                                                                                                                                                                                                                                                     | alpha  | order="category,min_price"                                                                                                                                                                                                                                          |
| promo                      | Booléen.                                                                                                                                                                                                                                                                                                                                                        |        | promo="yes"                                                                                                                                                                                                                                                         |
| ref                        | Une ou plusieurs refs de marque.                                                                                                                                                                                                                                                                                                                                |        | ref="PROD011" or ref="PROD011,PROD018"                                                                                                                                                                                                                              |
| return_url                 | Booléen qui permet la génération d'URL.                                                                                                                                                                                                                                                                                                                         | yes    | return_url="no"                                                                                                                                                                                                                                                     |
| tax_rule_id                | Filtrer les produits ayant cet ID de règle de taxes                                                                                                                                                                                                                                                                                                             |        | tax_rule_id=21                                                                                                                                                                                                                                                      |
| title                      | filtrer par titre                                                                                                                                                                                                                                                                                                                                               |        | title="foo"                                                                                                                                                                                                                                                         |
| virtual                    | Booléen                                                                                                                                                                                                                                                                                                                                                         |        | virtual="yes"                                                                                                                                                                                                                                                       |
| visible                    | Booléen                                                                                                                                                                                                                                                                                                                                                         | yes    | visible="no"                                                                                                                                                                                                                                                        |
| with_prev_next_info        | Booléen, si défini sur true, les variables de sorties, $HAS_PREVIOUS, $HAS_NEXT, $PREVIOUS, et $NEXT sont disponibles.                                                                                                                                                                                                                                          | false  | with_prev_next_info="yes"                                                                                                                                                                                                                                           |

Ainsi que les [arguments communs](./global_arguments) and [arguments de recherche](./search_arguments)

## Sorties

La boucle de produit a un comportement spécifique avec le paramètre complex. S'il est défini sur true, certaines valeurs ne seront pas traitées de la même manière et d'autres ne seront pas disponibles.


| Variable              | Value                                                                                                                                                                                                                         |                       If complex='true'                       |                      If complex='false'                      |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------:|:------------------------------------------------------------:|
| $BEST_PRICE           | le meilleur prix du produit sans taxes pour les arguments reçus, en fonction des attributs et du statut promo.                                                                                                                |                               ✅                               |                              ✅                               |
| $BEST_PRICE_TAX       | the best price taxes amount                                                                                                                                                                                                   |                               ✅                               |                              ✅                               |
| $BEST_TAXED_PRICE     | le meilleur prix avec taxes                                                                                                                                                                                                   |                               ✅                               |                              ✅                               |
| $BRAND_ID             | l'ID de la marque de ce produit. Vide si aucune marque n'est attribuée à ce produit                                                                                                                                           |                               ✅                               |                              ✅                               |
| $CHAPO                | Chapo                                                                                                                                                                                                                         |                               ✅                               |                              ✅                               |
| $DEFAULT_CATEGORY     | l'ID de la catégorie par défaut associée à ce produit                                                                                                                                                                         |                               ✅                               |                              ✅                               |
| $DESCRIPTION          | Description                                                                                                                                                                                                                   |                               ✅                               |                              ✅                               |
| $EAN_CODE             | Le code EAN par défaut des déclinaisons.                                                                                                                                                                                      |                              🚫                               |                              ✅                               |
| $HAS_NEXT             | true si un produit existe après celui-ci dans la catégorie actuelle, suivant les positions des produits. Uniquement disponible si le paramètre with_prev_next_info est défini sur true                                        |                               ✅                               |                              ✅                               |
| $HAS_PREVIOUS         | true si un produit existe avant celui-ci dans la catégorie actuelle, suivant les positions des produits. Uniquement disponible si le paramètre with_prev_next_info est défini sur true                                        |                               ✅                               |                              ✅                               |
| $ID                   | l'id du produit                                                                                                                                                                                                               |                               ✅                               |                              ✅                               |
| $IS_NEW               | Nouveauté                                                                                                                                                                                                                     | renvoi true si au moins une déclinaison est définie comme new | renvoi true si la déclinaison par défaut est définie sur new |
| $IS_PROMO             |                                                                                                                                                                                                                               |  renvoi si au moins une déclinaison est définie comme promo   | renvoi si la déclinaison par défaut est définie comme promo  |
| $IS_TRANSLATED        | vérifie si le produit est traduit ou non                                                                                                                                                                                      |                               ✅                               |                              ✅                               |
| $LOCALE               | la locale utilisée pour cette boucle                                                                                                                                                                                          |                               ✅                               |                              ✅                               |
| $META_DESCRIPTION     | la meta description du produit                                                                                                                                                                                                |                               ✅                               |                              ✅                               |
| $META_KEYWORDS        | la meta keywords du produit                                                                                                                                                                                                   |                               ✅                               |                              ✅                               |
| $META_TITLE           | la meta title du produit                                                                                                                                                                                                      |                               ✅                               |                              ✅                               |
| $NEXT                 | L'ID du produit après celui-ci dans la catégorie actuelle, suivant les positions des produits, ou null s'il n'en existe aucun. Uniquement disponible si le paramètre <strong>with_prev_next_info</strong> est défini sur true |                               ✅                               |                              ✅                               |
| $POSITION             | la position du produit                                                                                                                                                                                                        |                               ✅                               |                              ✅                               |
| $POSTSCRIPTUM         | Postscriptum                                                                                                                                                                                                                  |                               ✅                               |                              ✅                               |
| $PREVIOUS             | L'ID du produit avant celui-ci dans la catégorie actuelle, suivant les positions des produits, ou null s'il n'en existe aucun. Uniquement disponible si le paramètre <strong>with_prev_next_info</strong> est défini sur true |                               ✅                               |                              ✅                               |
| $PRICE                | le prix par défaut pour la déclinaison                                                                                                                                                                                        |                              🚫                               |                              ✅                               |
| $PRICE_TAX            | la taxe par défaut pour la déclinaison                                                                                                                                                                                        |                              🚫                               |                              ✅                               |
| $PRODUCT_SALE_ELEMENT | l'id par défaut pour la déclinaison                                                                                                                                                                                           |                              🚫                               |                              ✅                               |
| $PROMO_PRICE          | le prix promo par défaut pour la déclinaison                                                                                                                                                                                  |                              🚫                               |                              ✅                               |
| $PROMO_PRICE_TAX      | la taxe par défaut pour la déclinaison                                                                                                                                                                                        |                              🚫                               |                              ✅                               |
| $PSE_COUNT            | the number of product sale elements                                                                                                                                                                                           |                              🚫                               |                              ✅                               |
| $QUANTITY             | le stock de la déclinaison                                                                                                                                                                                                    |                              🚫                               |                              ✅                               |
| $REF                  | la ref de la déclinaison                                                                                                                                                                                                      |                               ✅                               |                              ✅                               |
| $TAXED_PRICE          | le prix taxes incluses par défaut des déclinaisons                                                                                                                                                                            |                              🚫                               |                              ✅                               |
| $TAXED_PROMO_PRICE    | le prix promo taxes incluses par défaut                                                                                                                                                                                       |                              🚫                               |                              ✅                               |
| $TAX_RULE_ID          | l'ID de la règle de taxes du produit                                                                                                                                                                                          |                               ✅                               |                              ✅                               |
| $TEMPLATE             | le template associé au produit                                                                                                                                                                                                |                               ✅                               |                              ✅                               |
| $TITLE                | Titre                                                                                                                                                                                                                         |                               ✅                               |                              ✅                               |
| $URL                  | l'URL du produit                                                                                                                                                                                                              |                               ✅                               |                              ✅                               |
| $VIRTUAL              | Retourne si le produit est un produit virtuel ou non                                                                                                                                                                          |                               ✅                               |                              ✅                               |
| $VISIBLE              | Retourne si le produit est un produit est visible ou non                                                                                                                                                                      |                               ✅                               |                              ✅                               |
| $WEIGHT               | le poids par défaut des déclinaisons                                                                                                                                                                                          |                              🚫                               |                              ✅                               |

Plus les [paramètres de sorties communs](./global_outputs)

## Exemples

Je veux afficher tous les produits des catégories 1 et 2 et de leurs sous-catégories dont la fonctionnalité `color` (ID : 1) est `blue` (ID : 13) ou `lightblue` (ID : 17), triés par prix croissants.

```smarty
<ul>
{loop type="product" name="my_product_loop" category="1,2" depth="2" feature_availability="1:13|17" order="min_price"}
    <li>{$TITLE} ({$REF})</li>
{/loop}
</ul>
``` 


Je veux afficher tous les produits qui sont en promo pour la catégorie actuelle en affichant d'abord les nouveaux produits, puis en les triant par prix décroissants.

```smarty
<ul>
{loop type="product" name="another_product_loop" promo="true" current_category="true" order="new,max_price"}
    <li>{$TITLE} ({$REF})</li>
{/loop}
</ul>
```


## Valeurs possibles de tri {#product-order-possible-values}
[Arguments](#product-arguments)

| Valeur croissante | Valeur décroissante | Champs triés                                                              |
|-------------------|---------------------|:--------------------------------------------------------------------------|
| alpha             | alpha_reverse       | Title                                                                     |
| created           | created_reverse     | Creation date                                                             |
| updated           | updated_reverse     | Last update date                                                          |
| id                | id_reverse          | Id                                                                        |
| ref               | ref_reverse         | Reference                                                                 |
| manual            | manual_reverse      | By position considering a given category, `category` argument must be set |
| min_price         | max_price           | Price                                                                     |
| position          | position_reverse    | By position, without considering a parent category                        |
| visible           | visible_reverse     | Visible                                                                   |
| given_id          |                     | Return the same order received in id argument which therefore must be set |
| new               |                     | New products first                                                        |
| promo             |                     | Promo product first                                                       |
| random            |                     | Random order                                                              |

## attribute_non_strict_match possible values {#product_attribute_non_strict_match_values}
[Arguments](#product-arguments)

| Valeurs attendues | description                                                                          |
|-------------------|:-------------------------------------------------------------------------------------|
| \*                | all the attributes are non strict                                                    |
| max_price         |                                                                                      |
| max_weight        |                                                                                      |
| min_price         |                                                                                      |
| min_stock         |                                                                                      |
| min_weight        |                                                                                      |
| new               |                                                                                      |
| none              | product loop will look for at least 1 attribute which matches all the loop criteria. |
| promo             |                                                                                      |